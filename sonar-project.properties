# SonarCloud / SonarQube - Configuración del proyecto
# https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

# SonarCloud (no cambiar si usas SonarCloud)
sonar.host.url=https://sonarcloud.io

# SonarCloud - organización y proyecto (debe coincidir con https://sonarcloud.io)
sonar.projectKey=fradurgo19_CompraMaquinaria
sonar.organization=fradurgo19

# Nombre visible del proyecto
sonar.projectName=Compra Maquinaria Usada

# Código fuente: frontend (TypeScript/React) y backend (Node.js)
sonar.sources=src,backend
# Excluir archivos y carpetas que no son código a analizar
sonar.exclusions=**/node_modules/**,**/dist/**,**/dist-ssr/**,**/*.min.js,**/backend/storage/**,**/coverage/**,**/api/**,**/manuales/**,**/scripts/**,**/supabase/**,**/*.sql,**/*.html

# Excluir duplicación en artefactos no críticos (docs, SQL, scripts)
sonar.cpd.exclusions=**/manuales/**,**/scripts/**,**/supabase/**,**/*.sql,**/*.html

# Tests y cobertura LCOV (JS/TS) para SonarQube Cloud
sonar.tests=src
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx
# Ruta del reporte LCOV generado por Vitest (o Jest) en el CI
sonar.javascript.lcov.reportPaths=./coverage/lcov.info

# Excluir de cobertura: backend, entry/setup, tipos TS (no ejecutables),
# páginas/organisms/components (UI grande; cobertura en servicios, hooks, utils)
sonar.coverage.exclusions=**/backend/**,**/src/main.tsx,**/src/test-setup.ts,**/src/services/supabase.ts,**/src/types/**,**/src/pages/**,**/src/organisms/**,**/src/components/**

# Rama principal (local y CI pueden sobreescribir con -Dsonar.branch.name)
sonar.branch.name=main

# Encoding
sonar.sourceEncoding=UTF-8
